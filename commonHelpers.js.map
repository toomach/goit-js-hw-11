{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\"use strict\";\n\nconst API_KEY = \"43405752-0f76ab8866361706295625dfe\";\nconst BASE_URL = 'https://pixabay.com/api/?';\n\nexport function fetchImages(searchValue) {\n  const SEARCH_PARAMS = new URLSearchParams({\n    key: API_KEY,\n    q: searchValue,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n    return fetch(`${BASE_URL}${SEARCH_PARAMS}`)\n        .then(response => {\n    if (!response.ok) throw new Error(response.statusText);\n    return response.json();\n  });\n}\n\n","\"use strict\";\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst lightbox = new SimpleLightbox('.gallery-list a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nexport function getGallery(parent, arr) {\n  parent.innerHTML = getMarkup(arr);\n  lightbox.refresh();\n}\n\nfunction getMarkup(arr) {\n  return arr\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n      ` <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <figure class=\"gallery-figure\">\n            <img\n              class=\"gallery-image\"\n              src=\"${webformatURL}\"\n              alt=\"${tags}\"\n              width=\"360\"\n            />\n            <figcaption class=\"gallery-figcaption\">\n              <ul class=\"gallery-text\">\n                <li>\n                  <span>Likes</span>\n                  <p>${likes}</p>\n                </li>\n                <li>\n                  <span>Views</span>\n                  <p>${views}</p>\n                </li>\n                <li>\n                  <span>Comments</span>\n                  <p>${comments}</p>\n                </li>\n                <li>\n                  <span>Downloads</span>\n                  <p>${downloads}</p>\n                </li>\n              </ul>\n            </figcaption>\n          </figure>\n        </a>\n      </li>`\n    )\n    .join('');\n}\n\n","\"use strict\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { fetchImages } from './js/pixabay-api';\nimport { getGallery } from './js/render-functions.js';\n\nconst searchForm = document.querySelector('.js-search-form');\nconst input = document.querySelector('.search-input');\nconst galleryList = document.querySelector('.gallery-list');\nconst loader = document.querySelector('.loader-wrapper');\n\n\nsearchForm.addEventListener('submit', handlerSearch);\n\nfunction handlerSearch(event) {\n    event.preventDefault();\n    galleryList.innerHTML = '';\n    \n    loader.classList.remove('is-hidden');\n\n    const inputSearchValue = input.value.trim();\n\n    if (inputSearchValue === '') {\n        errorMessage(`Please fill out the input field!`);\n        searchForm.reset();\n\n        loader.classList.add('is-hidden');\n\n        return;            \n    }\n\n    fetchImages(inputSearchValue)\n        .then(data => {            \n            if (data.hits.length === 0) {\n                errorMessage(`Sorry, there are no images matching your search query. Please try again!`);\n                return;\n            }\n            getGallery(galleryList, data.hits);            \n        })\n        .catch(error => console.log(error))\n        .finally(() => {\n\n            loader.classList.add('is-hidden');\n\n            searchForm.reset(); \n        });\n}\n\nconst iziToastParam = {\n    title: '',    \n    position: 'topRight',\n    backgroundColor: '#ef4040',\n    messageColor: '#fff',\n    titleColor: '#fff',\n    timeout: 3000,\n    pauseOnHover: false, \n}\n\nfunction errorMessage(message) {\n    iziToast.error({\n        ...iziToastParam,\n        message: `${message}`,\n    })\n}\n\n"],"names":["API_KEY","BASE_URL","fetchImages","searchValue","SEARCH_PARAMS","response","lightbox","SimpleLightbox","getGallery","parent","arr","getMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","searchForm","input","galleryList","loader","handlerSearch","event","inputSearchValue","errorMessage","data","error","iziToastParam","message","iziToast"],"mappings":"6vBAEA,MAAMA,EAAU,qCACVC,EAAW,4BAEV,SAASC,EAAYC,EAAa,CACvC,MAAMC,EAAgB,IAAI,gBAAgB,CACxC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAEC,OAAO,MAAM,GAAGF,CAAQ,GAAGG,CAAa,EAAE,EACrC,KAAKC,GAAY,CACtB,GAAI,CAACA,EAAS,GAAI,MAAM,IAAI,MAAMA,EAAS,UAAU,EACrD,OAAOA,EAAS,MACpB,CAAG,CACH,CCdA,MAAMC,EAAW,IAAIC,EAAe,kBAAmB,CACrD,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAWC,EAAQC,EAAK,CACtCD,EAAO,UAAYE,EAAUD,CAAG,EAChCJ,EAAS,QAAO,CAClB,CAEA,SAASK,EAAUD,EAAK,CACtB,OAAOA,EACJ,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACD;AAAA,wCACkCL,CAAa;AAAA;AAAA;AAAA;AAAA,qBAIhCD,CAAY;AAAA,qBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAOFC,CAAK;AAAA;AAAA;AAAA;AAAA,uBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,uBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,uBAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAO3B,EACA,KAAK,EAAE,CACZ,CCrDA,MAAMC,EAAa,SAAS,cAAc,iBAAiB,EACrDC,EAAQ,SAAS,cAAc,eAAe,EAC9CC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAS,SAAS,cAAc,iBAAiB,EAGvDH,EAAW,iBAAiB,SAAUI,CAAa,EAEnD,SAASA,EAAcC,EAAO,CAC1BA,EAAM,eAAc,EACpBH,EAAY,UAAY,GAExBC,EAAO,UAAU,OAAO,WAAW,EAEnC,MAAMG,EAAmBL,EAAM,MAAM,KAAI,EAEzC,GAAIK,IAAqB,GAAI,CACzBC,EAAa,kCAAkC,EAC/CP,EAAW,MAAK,EAEhBG,EAAO,UAAU,IAAI,WAAW,EAEhC,MACH,CAEDpB,EAAYuB,CAAgB,EACvB,KAAKE,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EAAG,CACxBD,EAAa,0EAA0E,EACvF,MACH,CACDlB,EAAWa,EAAaM,EAAK,IAAI,CAC7C,CAAS,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CAEXN,EAAO,UAAU,IAAI,WAAW,EAEhCH,EAAW,MAAK,CAC5B,CAAS,CACT,CAEA,MAAMU,EAAgB,CAClB,MAAO,GACP,SAAU,WACV,gBAAiB,UACjB,aAAc,OACd,WAAY,OACZ,QAAS,IACT,aAAc,EAClB,EAEA,SAASH,EAAaI,EAAS,CAC3BC,EAAS,MAAM,CACX,GAAGF,EACH,QAAS,GAAGC,CAAO,EAC3B,CAAK,CACL"}